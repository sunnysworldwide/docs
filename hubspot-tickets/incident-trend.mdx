---
title: "Incidents Trend Stats"
description: "Retrieve the trend of incidents (tickets) within a specified date range."
openapi: 'GET /hubspot/stats/incidents-trend/:startDate/:endDate'
---

# Incidents Trend Stats

Fetch the trend of incidents (tickets) for a given date range. The endpoint returns the labels (dates) and series (number of tickets per date) to visualize trends.

## Endpoint

`GET /hubspot/stats/incidents-trend/:startDate/:endDate`

### URL Parameters

| Parameter   | Type   | Required | Description                       |
| ----------- | ------ | -------- | --------------------------------- |
| `startDate` | string | ✅       | Start date of the range (YYYY-MM-DD) |
| `endDate`   | string | ✅       | End date of the range (YYYY-MM-DD)   |

### Request Headers

| Header          | Value                    | Description                          |
| --------------- | ------------------------ | ------------------------------------ |
| `Content-Type`  | `application/json`       | Required for sending JSON body       |
| `Authorization` | `Bearer <token>`         | User authentication token            |

### Request Body

```json
{
  "user": {
    "id": "string",
    "role": "string"
  }
}
```

> **Note:** `user` is optional and depends on the authenticated context.

## Response

### Success Response (200)

```json
{
  "success": true,
  "message": "",
  "data": {
    "labels": ["2025-11-01", "2025-11-02", "2025-11-03"],
    "series": [5, 3, 7]
  }
}
```

### Error Response

```json
{
  "success": false,
  "message": "Error message",
  "service": "/hubspot/stats/incidents-trend/:startDate/:endDate",
  "http": "GET"
}
```

## Authentication

This endpoint requires the user to be authenticated. Use the `Authorization` header with a valid token.

## Example Request (cURL)

```bash
curl -X GET "https://yourdomain.com/hubspot/stats/incidents-trend/2025-11-01/2025-11-03" \
-H "Content-Type: application/json" \
-H "Authorization: Bearer YOUR_TOKEN" \
-d '{
  "user": {
    "id": "123",
    "role": "admin"
  }
}'
```

## Example Request (JavaScript - fetch)

```javascript
const response = await fetch("/hubspot/stats/incidents-trend/2025-11-01/2025-11-03", {
  method: "GET",
  headers: {
    "Content-Type": "application/json",
    "Authorization": "Bearer YOUR_TOKEN"
  },
  body: JSON.stringify({
    user: { id: "123", role: "admin" }
  })
});

const data = await response.json();
console.log(data);
```

## Notes

- The `series` is calculated based on ticket creation dates.
- Dates without any tickets will have a count of `0`.
- The `trend` object is generated internally and mapped to `labels` and `series`.
